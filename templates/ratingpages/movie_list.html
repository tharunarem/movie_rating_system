{% extends "ratingpages/base.html" %}

{% block content %}
<h2>Movie List</h2>
<div class="movie-container">
    {% for movie in movies %}
        <div class="movie-card">
            {% if movie.poster %}
                <img src="{{ movie.poster.url }}" alt="{{ movie.title }}" class="movie-poster">
            {% else %}
                <img src="/media/default_poster.jpg" alt="Default Poster" class="movie-poster">
            {% endif %}
            <h3>{{ movie.title }}</h3>
            <p>Genre: {{ movie.genre }}</p>
            <p>Rating: {{ movie.average_rating }}</p>
            <a href="{% url 'rate_movie' movie.id %}">Rate this movie</a>
        </div>
        {% if forloop.counter|divisibleby:4 %}
            <div class="clearfix"></div>  <!-- Clears row after every 4 movies -->
        {% endif %}
    {% endfor %}
</div>
{% endblock %}
